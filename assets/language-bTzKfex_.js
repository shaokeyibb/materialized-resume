(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function u(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=u(e);fetch(e.href,n)}})();const r=[{acceptLanguages:["zh"],page:"/zh/"},{acceptLanguages:["en"],page:"/en/"}];function s(){return r.find(t=>t.acceptLanguages.includes(new Intl.Locale(navigator.language).language))??r[0]}function c(){return r.find(t=>t.page==window.location.pathname)}function l(t){window.location.replace(t.page)}function f(t){window.location.href=t.page}function g(t){const o=s();(t||window.location.pathname=="/")&&o!=c()&&l(o)}function d(){f(r[(r.indexOf(c())+1)%r.length])}globalThis.nextLanguage=d;window.addEventListener("languagechange",()=>g(!0));g(!1);
